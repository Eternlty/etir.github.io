"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[366],{41325:function(_,y,a){a.r(y),a.d(y,{default:function(){return H}});var P=a(70920),o=a.n(P),U=a(17934),L=a.n(U),w=a(23538),h=a.n(w),A=a(21071),B=a.n(A),O=a(9230),V=a(14035),p=a(96300),m=a(59301),z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm210.5 612.4c-11.5 1.4-44.9-52.7-44.9-52.7 0 31.3-16.2 72.2-51.1 101.8 16.9 5.2 54.9 19.2 45.9 34.4-7.3 12.3-125.6 7.9-159.8 4-34.2 3.8-152.5 8.3-159.8-4-9.1-15.2 28.9-29.2 45.8-34.4-35-29.5-51.1-70.4-51.1-101.8 0 0-33.4 54.1-44.9 52.7-5.4-.7-12.4-29.6 9.4-99.7 10.3-33 22-60.5 40.2-105.8-3.1-116.9 45.3-215 160.4-215 113.9 0 163.3 96.1 160.4 215 18.1 45.2 29.9 72.8 40.2 105.8 21.7 70.1 14.6 99.1 9.3 99.7z"}}]},name:"qq-circle",theme:"filled"},E=z,F=a(92760),C=function(f,d){return m.createElement(F.Z,(0,p.Z)((0,p.Z)({},f),{},{ref:d,icon:E}))};C.displayName="QqCircleFilled";var q=m.forwardRef(C),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.8 613.2c-16-51.4-34.4-94.6-62.7-165.3C766.5 262.2 689.3 112 511.5 112 331.7 112 256.2 265.2 261 447.9c-28.4 70.8-46.7 113.7-62.7 165.3-34 109.5-23 154.8-14.6 155.8 18 2.2 70.1-82.4 70.1-82.4 0 49 25.2 112.9 79.8 159-26.4 8.1-85.7 29.9-71.6 53.8 11.4 19.3 196.2 12.3 249.5 6.3 53.3 6 238.1 13 249.5-6.3 14.1-23.8-45.3-45.7-71.6-53.8 54.6-46.2 79.8-110.1 79.8-159 0 0 52.1 84.6 70.1 82.4 8.5-1.1 19.5-46.4-14.5-155.8z"}}]},name:"qq",theme:"outlined"},T=R,I=function(f,d){return m.createElement(F.Z,(0,p.Z)((0,p.Z)({},f),{},{ref:d,icon:T}))};I.displayName="QqOutlined";var $=m.forwardRef(I),M=a(73954),c=a(14737),g=a(37829),D=a(97746),Z=a(66241),u={container:"container___REQAy",lang:"lang___DAjLY",content:"content___IkUx1",icon:"icon___fqAhh"},e=a(37712),G=function(f){var d=f.content;return(0,e.jsx)(D.Z,{style:{marginBottom:24},message:d,type:"error",showIcon:!0})},W=function(){var f=(0,m.useState)({}),d=B()(f,2),Y=d[0],J=d[1],N=(0,g.useModel)("@@initialState"),j=N.initialState,K=N.setInitialState,x=(0,g.useIntl)(),X=function(){var v=h()(o()().mark(function t(){var n,i;return o()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,j==null||(n=j.fetchUserInfo)===null||n===void 0?void 0:n.call(j);case 2:if(i=l.sent,!i){l.next=6;break}return l.next=6,K(function(Q){return L()(L()({},Q),{},{currentUser:i})});case 6:case"end":return l.stop()}},t)}));return function(){return v.apply(this,arguments)}}(),b=function(){var v=h()(o()().mark(function t(){var n;return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n=window.open("https://www.baidu.com","baidu","width=1600,height=900"),n==null||n.addEventListener("onload",function(){console.log(n==null?void 0:n.location.href)});case 2:case"end":return s.stop()}},t)}));return function(){return v.apply(this,arguments)}}(),k=function(){var v=h()(o()().mark(function t(n){var i,s,l,Q;return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,V.C6)(L()({},n));case 3:if(i=r.sent,i.result!==1){r.next=12;break}return s=x.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),Z.ZP.success(s),r.next=9,X();case 9:return l=new URL(window.location.href).searchParams,g.history.push(l.get("redirect")||"/"),r.abrupt("return");case 12:console.log(i),J(i),r.next=21;break;case 16:r.prev=16,r.t0=r.catch(0),Q=x.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),console.log(r.t0),Z.ZP.error(Q);case 21:case"end":return r.stop()}},t,null,[[0,16]])}));return function(n){return v.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:u.container,children:[(0,e.jsx)("div",{className:u.lang,"data-lang":"",children:g.SelectLang&&(0,e.jsx)(g.SelectLang,{})}),(0,e.jsx)("div",{className:u.content,children:(0,e.jsxs)(c.U0H,{title:"\u767B\u5F55",subTitle:x.formatMessage({id:"pages.layouts.userLayout.title"}),initialValues:{autoLogin:!0},actions:[(0,e.jsx)(g.FormattedMessage,{id:"pages.login.loginWith",defaultMessage:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"},"loginWith"),(0,e.jsx)(q,{onClick:b,className:u.icon},"QqCircleFilled")],onFinish:function(){var v=h()(o()().mark(function t(n){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,k(n);case 2:case"end":return s.stop()}},t)}));return function(t){return v.apply(this,arguments)}}(),children:[Y.result!==1&&(0,e.jsx)(G,{content:x.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF(admin/ant.design)"})}),(0,e.jsx)(c.VaQ,{initialValue:"index",name:"cmd"}),(0,e.jsx)(c.VaQ,{name:"qq",fieldProps:{size:"large",prefix:(0,e.jsx)($,{className:u.prefixIcon})},placeholder:"QQ",rules:[{required:!0,message:"\u8BF7\u8F93\u5165QQ"}]}),(0,e.jsx)(c.VaQ,{name:"uid",fieldProps:{size:"large",prefix:(0,e.jsx)(M.Z,{className:u.prefixIcon})},placeholder:"uid",rules:[{required:!0,message:"\u8BF7\u8F93\u5165uid"}]}),(0,e.jsx)(c.VaQ,{name:"h5openid",fieldProps:{size:"large",prefix:(0,e.jsx)(M.Z,{className:u.prefixIcon})},placeholder:"h5openid",rules:[{required:!0,message:"\u8BF7\u8F93\u5165h5openid"}]}),(0,e.jsx)(c.VaQ,{name:"h5token",fieldProps:{size:"large",prefix:(0,e.jsx)(M.Z,{className:u.prefixIcon})},placeholder:"h5token",rules:[{required:!0,message:"\u8BF7\u8F93\u5165h5token"}]}),(0,e.jsx)("div",{style:{marginBottom:24},children:(0,e.jsx)(c.V2E,{noStyle:!0,name:"autoLogin",children:(0,e.jsx)(g.FormattedMessage,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})})})]})}),(0,e.jsx)(O.Z,{})]})},H=W}}]);
